<div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4 relative transition-colors">
  <!-- Top Right Controls -->
  <div class="absolute top-6 right-6 flex items-center gap-3">
    <!-- Theme Selector -->
    <div class="relative">
      <button class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer border border-gray-200 dark:border-gray-700" (click)="toggleThemeDropdown()">
        <i [class]="themeService.getThemeIcon(themeService.themeMode())" class="text-gray-600 dark:text-gray-300"></i>
      </button>

      @if (themeDropdownOpen()) {
        <div class="absolute right-0 top-full mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg min-w-[160px] py-2 z-[100]">
          @for (theme of themeService.getAvailableThemes(); track theme.mode) {
            <button
              class="flex items-center gap-3 w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
              [class.bg-blue-50]="themeService.themeMode() === theme.mode"
              [class.dark:bg-blue-900]="themeService.themeMode() === theme.mode"
              (click)="selectTheme(theme.mode)">
              <i [class]="theme.icon"></i>
              <span>{{ theme.label | translate }}</span>
            </button>
          }
        </div>
      }
    </div>

    <!-- Language Selector -->
    <div class="relative">
      <button class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer border border-gray-200 dark:border-gray-700" (click)="toggleLangDropdown()">
        <i class="fas fa-globe text-gray-600 dark:text-gray-300"></i>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-200">{{ languageService.currentLang() === 'fr' ? 'ðŸ‡«ðŸ‡·' : 'ðŸ‡¬ðŸ‡§' }}</span>
      </button>

      @if (langDropdownOpen()) {
        <div class="absolute right-0 top-full mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg min-w-[160px] py-2 z-[100]">
          @for (lang of languageService.getAvailableLanguages(); track lang.code) {
            <button
              class="flex items-center gap-3 w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
              [class.bg-blue-50]="languageService.currentLang() === lang.code"
              [class.dark:bg-blue-900]="languageService.currentLang() === lang.code"
              (click)="selectLanguage(lang.code)">
              <span class="text-lg">{{ lang.flag }}</span>
              <span>{{ lang.label }}</span>
            </button>
          }
        </div>
      }
    </div>
  </div>

  <div class="w-full max-w-md">
    <!-- Logo/Icon section -->
    <div class="text-center mb-8">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-600 dark:bg-blue-700 rounded-2xl mb-4 shadow-lg">
        <i class="pi pi-user text-3xl text-white"></i>
      </div>
      <h1 class="text-4xl font-bold text-gray-800 dark:text-gray-100 mb-2">{{ 'login.welcome' | translate }}</h1>
      <p class="text-gray-600 dark:text-gray-300">{{ 'login.subtitle' | translate }}</p>
    </div>

    <!-- Card -->
    <p-card class="shadow-xl">
      <form (ngSubmit)="submit()" class="flex flex-col gap-6 p-2">
        <div class="flex flex-col gap-3">
          <label for="username" class="font-semibold text-gray-700 text-sm">
            {{ 'login.username' | translate }}
          </label>
          <input
            pInputText
            id="username"
            type="text"
            [ngModel]="username()"
            (ngModelChange)="username.set($event)"
            name="username"
            [placeholder]="'login.usernamePlaceholder' | translate"
            class="w-full"
            required
          />
        </div>

        <div class="flex flex-col gap-3">
          <label for="password" class="font-semibold text-gray-700 text-sm">
            {{ 'login.password' | translate }}
          </label>
          <p-password
            [(ngModel)]="password"
            name="password"
            [placeholder]="'login.passwordPlaceholder' | translate"
            [toggleMask]="true"
            [feedback]="false"
            styleClass="w-full"
            inputStyleClass="w-full"
          />
        </div>

        @if (error()) {
          <p-message severity="error" [text]="error()" styleClass="w-full" />
        }

        <p-button
          type="submit"
          [label]="'login.signIn' | translate"
          icon="pi pi-sign-in"
          styleClass="w-full justify-center"
          size="large"
        />
      </form>
    </p-card>

    <!-- Footer info -->
    <div class="text-center mt-6 text-sm text-gray-600 dark:text-gray-400">
      <p>{{ 'login.demoApp' | translate }}</p>
    </div>
  </div>
</div>
